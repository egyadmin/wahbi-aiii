# هيكلية النظام المحسنة لنظام إدارة المناقصات

## نظرة عامة
هذا المستند يوضح هيكلية النظام المحسنة لنظام إدارة المناقصات، والذي يتضمن الوحدات التالية:
- وحدة التسعير المتكاملة
- وحدة الذكاء الاصطناعي
- وحدة تحليل البيانات
- وحدة الموارد

## هيكلية المجلدات

```
tender_system/
├── app.py                      # نقطة الدخول الرئيسية للتطبيق
├── config.py                   # إعدادات التطبيق
├── requirements.txt            # متطلبات المكتبات
├── README.md                   # توثيق النظام
├── assets/                     # الأصول الثابتة
│   ├── images/                 # الصور
│   ├── icons/                  # الأيقونات
│   └── fonts/                  # الخطوط
├── data/                       # البيانات
│   ├── templates/              # قوالب البيانات
│   └── charts/                 # بيانات الرسوم البيانية
├── database/                   # قاعدة البيانات
│   ├── db_connector.py         # موصل قاعدة البيانات
│   └── models.py               # نماذج البيانات
├── modules/                    # وحدات النظام
│   ├── pricing/                # وحدة التسعير
│   │   ├── pricing_app.py      # تطبيق التسعير
│   │   └── services/           # خدمات التسعير
│   │       ├── standard_pricing.py
│   │       ├── unbalanced_pricing.py
│   │       ├── local_content_calculator.py
│   │       ├── price_prediction.py
│   │       ├── construction_cost_calculator.py
│   │       └── construction_templates.py
│   ├── ai_assistant/           # وحدة الذكاء الاصطناعي
│   │   ├── ai_app.py           # تطبيق الذكاء الاصطناعي
│   │   └── services/           # خدمات الذكاء الاصطناعي
│   │       ├── openai_service.py
│   │       ├── anthropic_service.py
│   │       ├── local_llm_service.py
│   │       └── prompt_templates.py
│   ├── document_analysis/      # وحدة تحليل المستندات
│   │   ├── document_app.py     # تطبيق تحليل المستندات
│   │   └── services/           # خدمات تحليل المستندات
│   │       ├── text_extractor.py
│   │       ├── item_extractor.py
│   │       └── document_parser.py
│   ├── resources/              # وحدة الموارد
│   │   ├── resources_app.py    # تطبيق الموارد
│   │   └── services/           # خدمات الموارد
│   │       ├── material_manager.py
│   │       ├── labor_manager.py
│   │       ├── equipment_manager.py
│   │       └── subcontractor_manager.py
│   ├── project_management/     # وحدة إدارة المشاريع
│   │   └── project_app.py      # تطبيق إدارة المشاريع
│   └── reports/                # وحدة التقارير
│       └── reports_app.py      # تطبيق التقارير
├── styling/                    # التنسيق
│   ├── theme.py                # سمات التطبيق
│   ├── icons.py                # أيقونات التطبيق
│   └── charts.py               # تنسيق الرسوم البيانية
├── utils/                      # أدوات مساعدة
│   ├── excel_handler.py        # معالج ملفات Excel
│   ├── pdf_handler.py          # معالج ملفات PDF
│   ├── helpers.py              # دوال مساعدة
│   └── auth.py                 # المصادقة
└── tests/                      # اختبارات
    ├── test_pricing.py         # اختبارات وحدة التسعير
    ├── test_ai.py              # اختبارات وحدة الذكاء الاصطناعي
    ├── test_document.py        # اختبارات وحدة تحليل المستندات
    └── test_resources.py       # اختبارات وحدة الموارد
```

## تفاصيل الوحدات

### 1. وحدة التسعير المتكاملة
- **الوظائف الرئيسية**:
  - إنشاء تسعير جديد
  - تحليل سعر البند
  - نموذج التسعير الشامل
  - التسعير غير المتزن
  - المحتوى المحلي
  - حاسبة تكاليف البناء
  - الأدوات المساعدة

### 2. وحدة الذكاء الاصطناعي
- **الوظائف الرئيسية**:
  - تحليل المستندات باستخدام الذكاء الاصطناعي
  - توليد توصيات ذكية للتسعير
  - تحليل المخاطر باستخدام الذكاء الاصطناعي
  - مساعد المحادثة الذكي
  - تلخيص المستندات
  - استخراج المعلومات الرئيسية

### 3. وحدة تحليل البيانات
- **الوظائف الرئيسية**:
  - استخراج النصوص من المستندات
  - استخراج الجداول والبنود
  - تحليل المستندات
  - تحويل المستندات إلى بيانات منظمة
  - تحليل الصور والمخططات

### 4. وحدة الموارد
- **الوظائف الرئيسية**:
  - إدارة المواد
  - إدارة العمالة
  - إدارة المعدات
  - إدارة المقاولين من الباطن
  - تحليل تكاليف الموارد
  - تخطيط الموارد

## واجهة المستخدم
- تستخدم إطار عمل Streamlit لبناء واجهة مستخدم تفاعلية
- تدعم اللغة العربية بشكل كامل
- تتضمن تبويبات لكل وحدة من وحدات النظام
- تدعم الوضعين الفاتح والداكن
- تتضمن رسومات بيانية تفاعلية باستخدام Plotly

## تكامل الوحدات
- تتكامل وحدة التسعير مع وحدة الموارد لاستخدام بيانات الأسعار
- تتكامل وحدة تحليل البيانات مع وحدة التسعير لاستخراج بنود المناقصة
- تتكامل وحدة الذكاء الاصطناعي مع جميع الوحدات لتقديم توصيات ذكية
- تتكامل جميع الوحدات مع قاعدة البيانات المركزية

## التقنيات المستخدمة
- **لغة البرمجة**: Python
- **إطار عمل واجهة المستخدم**: Streamlit
- **معالجة البيانات**: Pandas, NumPy
- **الرسوم البيانية**: Plotly, Matplotlib
- **الذكاء الاصطناعي**: OpenAI API, Anthropic API, Transformers
- **معالجة المستندات**: PyPDF2, python-docx, pdf2image
- **قاعدة البيانات**: SQLAlchemy
